# Copyright Spack Project Developers. See COPYRIGHT file for details.
#
# SPDX-License-Identifier: (Apache-2.0 OR MIT)


from spack_repo.builtin.build_systems.python import PythonPackage

from spack.package import *


class PyKwcocoDataloader(PythonPackage):
    """A windowed torch dataloader for kwcoco files with support for image sequences,
        heterogeneous image sensors, arbitrary bands, efficient subimage loading via
        COGs, pixelwise weighting, balanced sampling, and more."""

    homepage = "https://gitlab.kitware.com/computer-vision/kwcoco_dataloader"
    pypi = "kwcoco_dataloader/kwcoco_dataloader-0.1.2.tar.gz"

    maintainers("kwryankrattiger", "johnwparent")

    license("Apache-2.0", checked_by="johnwparent")

    version("0.1.2", sha256="c679c703b08fcc7e673fdff48c3dad9128d8d64efd59cf649a7d2b705f09b582")

    depends_on("py-setuptools", type="build")

    depends_on("py-numpy@2.1.0:", when="python@3.13:4.0")
    depends_on("py-numpy@1.26.0:", when="python@3.12:3.13")
    depends_on("py-numpy@1.23.2:", when="python@3.11:3.12")
    depends_on("py-numpy@1.21.6:", when="python@3.10:3.11")
    depends_on("py-numpy@1.19.3:", when="python@3.9:3.10")
    depends_on("py-numpy@1.19.3:", when="python@3.8:3.9")
    depends_on("py-scipy@1.14.1:", when="python@3.13:4.0")
    depends_on("py-scipy@1.11.2:", when="python@3.12:3.13")
    depends_on("py-scipy@1.9.2:", when="python@3.11:3.12")
    depends_on("py-scipy@1.8.0:", when="python@3.10:3.11")
    depends_on("py-scipy@1.8.0:", when="python@3.9:3.10")
    depends_on("py-scipy@1.8.0:", when="python@3.8:3.9")
    depends_on("py-shapely@2.0.6:", when="python@3.13:4.0")
    depends_on("py-shapely@2.0.2:", when="python@3.12:3.13")
    depends_on("py-shapely@2.0.1:", when="python@3.11:3.12")
    depends_on("py-shapely@2.0.1:", when="python@3.10:3.11")
    depends_on("py-shapely@2.0.1:", when="python@3.9:3.10")
    depends_on("py-shapely@2.0.1:", when="python@3.8:3.9")
    depends_on("py-rasterio@1.3.11:", when="python@3.13:4.0")
    depends_on("py-rasterio@1.3.9:", when="python@3.12:3.13")
    depends_on("py-rasterio@1.3.5:", when="python@3.11:3.12")
    depends_on("py-rasterio@1.3.5:", when="python@3.10:3.11")
    depends_on("py-rasterio@1.3.5:", when="python@3.9:3.10")
    depends_on("py-rasterio@1.3.5:", when="python@3.8:3.9")
    depends_on("py-pandas@2.2.3:", when="python@3.13:4.0")
    depends_on("py-pandas@2.1.1:", when="python@3.12:3.13")
    depends_on("py-pandas@1.5.3:", when="python@3.11:3.12")
    depends_on("py-pandas@1.5.3:", when="python@3.10:3.11")
    depends_on("py-pandas@1.5.3:", when="python@3.9:3.10")
    depends_on("py-pandas@1.5.3:", when="python@3.8:3.9")
    depends_on("jq@1.8.0:", when="python@3.13:4.0")
    depends_on("jq@1.7.0:", when="python@3.12:3.13")
    depends_on("jq@1.7.0:", when="python@3.11:3.12")
    depends_on("jq@1.2.2:", when="python@3.10:3.11")
    depends_on("jq@1.2.1:", when="python@3.10")
    depends_on("py-pyproj@3.7.0:", when="python@3.13:4.0")
    depends_on("py-pyproj@3.6.1:", when="python@3.12:3.13")
    depends_on("py-pyproj@3.4.1:3.5.0", when="python@3.11:3.12")
    depends_on("py-pyproj@3.3.1:3.5.0", when="python@3.10:3.11")
    depends_on("py-pyproj@3.2.1:3.5.0", when="python@3.10")
    depends_on("py-matplotlib@3.9.2:", when="python@3.13:4.0")
    depends_on("py-matplotlib@3.8.2:", when="python@3.12:3.13")
    depends_on("py-matplotlib@3.8.2:", when="python@3.11:3.12")
    depends_on("py-matplotlib@3.8.2:", when="python@3.10:3.11")
    depends_on("py-matplotlib@3.4.1:", when="python@3.10")
    depends_on("py-mgrs@1.4.6:", when="python@3.12:4.0")
    depends_on("py-mgrs@1.4.6:", when="python@3.11:3.12")
    depends_on("py-mgrs@1.4.6:", when="python@3.11:3.12")
    depends_on("py-mgrs@1.4.3:", when="python@3.10:3.11")
    depends_on("py-mgrs@1.4.3:", when="python@3.9:3.10")
    depends_on("py-mgrs@1.4.3:", when="python@3.9:3.10")
    depends_on("py-mgrs@1.3.7:", when="python@3.8:3.9")
    depends_on("py-kwarray@0.6.19:")
    depends_on("py-einops@0.6.0:")
    depends_on("py-rich@12.5.1:")
    depends_on("py-affine@2.3.0:")
    depends_on("py-ubelt@1.3.6:")
    depends_on("py-requests@2.27.1:")
    depends_on("py-kwutil@0.3.5:")
    depends_on("py-kwgis@0.1.0:")
    depends_on("py-kwgis@0.1.0:")
    depends_on("py-more-itertools@8.12.0:")
    depends_on("py-scriptconfig@0.7.10:")
    depends_on("py-networkx@3.0:", when="python@3.13:4.0")
    depends_on("py-networkx@2.8:", when="python@3.11:3.13")
    depends_on("py-networkx@2.8:", when="python@3.8:3.11")
    depends_on("py-lark@1.1.7:")
    depends_on("py-lark-cython@0.0.16:", when="python@3.12:4.0")
    depends_on("py-lark-cython@0.0.15:", when="python@3.12")
    depends_on("py-kwimage@0.11.0:")
    depends_on("py-scikit-image@0.24.0:", when="python@3.13:4.0")
    depends_on("py-scikit-image@0.22.0:", when="python@3.12:3.13")
    depends_on("py-scikit-image@0.20.0:", when="python@3.11:3.12")
    depends_on("py-scikit-image@0.19.0:", when="python@3.10:3.11")
    depends_on("py-scikit-image@0.18.0:", when="python@3.9:3.10")
    depends_on("py-scikit-image@0.17.2:", when="python@3.8:3.9")
    depends_on("py-kwcoco@0.8.2:")
    depends_on("py-delayed-image@0.4.5:")
    depends_on("py-ndsampler@0.8.0:")
    depends_on("py-kwplot@0.4.14:")
    depends_on("py-seaborn@0.13.0:")
    depends_on("py-geopandas@0.10.2:1.0.0")
    depends_on("py-utm@0.7.0:")
    depends_on("py-geojson@3.1.0:", when="python@3.12:4.0")
    depends_on("py-geojson@3.0.1:", when="python@3.8:3.12")
    depends_on("py-torch@2.5.0:", when="python@3.13:4.0")
    depends_on("py-torch@2.2.0:", when="python@3.12:3.13")
    depends_on("py-torch@2.0.0:", when="python@3.11:3.12")
    depends_on("py-torch@1.12.0:", when="python@3.11")
    depends_on("py-pytorch-lightning@2.0.8:")
    depends_on("py-lazy-loader@0.4:")
    depends_on("py-imagesize@1.4.1:")
    depends_on("py-cmd-queue@0.1.20:")
    depends_on("py-fsspec@2023.6.0:")
    depends_on("py-blake3@1.0.1:", when="python@3.13:4.0")
    depends_on("py-blake3@1.0.1:", when="python@3.12:3.13")
    depends_on("py-blake3@0.3.1:", when="python@3.11:3.12")
    depends_on("py-blake3@0.2.1:", when="python@3.11")


